# 定位总结

## CSS 中的定位

布局是针对整个页面来讲的，你采用什么布局，两栏布局、三栏布局，目标是整个页面。

而定位是针对某一个元素来讲的，把这个元素定位到什么位置。

目前在 CSS 中，有 5 种定位方案，分别是：

- static 静态定位
- relative 相对定位
- absolute 绝对定位
- fixed 固定定位
- sticky 粘性定位
  下面我们依次来介绍这几种定位。

## static 静态定位

所谓静态定位，就是我们的标准流。

在标准流里面，块级元素独占一行，内嵌元素共享一行。静态定位是 HTML 元素的默认值，静态定位的元素不会受到 top，bottom，left，right 的影响。

## relative 相对定位

所谓相对定位，就是相对自己原来的位置进行定位。相对定位的最大特点就是不脱离标准流，相对于自己原来的位置上进行一定的偏移。

可以看到，我们对 two 这个盒子设置了 left 值为 50px，top 值为 50px，而由于是相对这个位置进行偏移，所以 two 这个盒子向右下进行了移动。

使用相对定位的作用主要有两个：

微调元素
做绝对定位的参考，子绝父相

## absolute 绝对定位

所谓绝对定位，就是相对于离自己最近的，并且定了位的元素进行偏移。使用了绝对定位后的盒子，会脱离标准流，如果设置了 margin 的值为 auto，则会失效。

绝对定位后的盒子，其 display 属性会变为 block

这里要重点强调一下绝对定位的参考点问题。默认情况下，绝对定位的参考点，如果用 top 来进行描述，那么定位参考点就是页面的左上角，而不是浏览器的左上角，

如果是使用 bottom 来进行描述，那么就是浏览器首屏窗口尺寸，对应的页面左下角

前面我们在介绍相对定位的时候，有提到子绝父相这个名字。事实上，当我们对一个元素设置绝对定位的时候，往往会将它的父级元素设置为相对定位。

这样的好处在于该元素的父级元素没有脱离标准流，该元素将会以这个相对定位了的父元素作为参考点，在父元素的范围内进行移动，方便我们对元素的位置进行掌控。

容器盒子设置为相对定位，红色盒子为绝对定位。红色盒子将无视父元素的 padding 区域，以父元素的 border 内侧作为自己定位的参考点。

需要大家记住的是当父级元素出现有定位时，绝对定位的参考点永远都是离自己最近的，并且定了位的祖先元素的左上角，

# fixed 固定定位

所谓固定定位，可以看作是一种特殊的绝对定位，所以自然而然固定定位也是会脱离标准流的。

固定定位的特点是相对于浏览器窗口进行定位的。

换句话说，对一个盒子进行固定定位以后，无论页面如何滚动，这个盒子的显示位置都是不会变化的。

固定定位在 PC 端中经常用于显示在页面中位置固定不变的页面 header，以及移动端中位置固定不变的 header 和 footer。

# sticky 粘性定位

在 CSS3 中，新增了一种定位方式：sticky。

sticky，中文的字面意思是“粘，粘贴”的意思，所以这种定位方式可以称之为粘性定位。

目前大部分浏览器都已经支持了这种定位方式。
接下来有如下几个需要注意的点：

- 父元素的 overflow 必须是 visible，不能是 hidden 或者 auto，因为父节点定位设置为 overflow:hidden 则父容器无法进行滚动。
- 父元素的高度不能低于 sticky 元素的高度 。
- 如果父元素没有设置定位（position:relative | absolute | fixed），则相对于 viewprot 进行定位，否则以定位的父元素为参考点。
- 设置阀值：需要指定 top、right、bottom 或 left 四个阈值其中之一，才可使粘性定位生效。否则其行为与相对定位相同。并且 top 和 bottom 同时设置时，top 生效的优先级高；left 和 right 同时设置时，left 的优先级高。
